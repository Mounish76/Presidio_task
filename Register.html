<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>

    <!-- Links for Bootstrap,Icons,CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="signup.css">
</head>

<body>
    <div class="container">
        <hr>
        <div class="signup">    
        <div style="line-height: 0.5;">

            <!-- If signed in, u can redirect to signin page -->
            <h5>Create a New Account</h5>
            <span id="smallfont">Already have an account?? <a href="login.html">Login</a></span id="small font">
        </div>
        <br>

        <!-- Direct or manual signup -->
            <div class="signup_with">
            <div id="direct">
                <span id="smallfont">Sign in with:</span id="small font">
                <button style="background-color: orange;">Google</button><br>
                <button style="background-color: green;">Email</button>
            </div>
            <div id="border"></div>
            <form id="manual">
                <input type="text" placeholder="Name" id="register-name"><br>
                <input type="email" placeholder="Username" id="register-email"><br>
                <input type="password" placeholder="Password" id="register-password"><br>
                <button style="width: 200px;" id="register-btn" onclick="add_data()">Create</button>
            </form>
        </div>
        </div>
    </div>

</body>
<script type="module">

    let regitserbtn=document.getElementById("register-btn");
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "firebase/auth";
    // import{
    //     getFirestore,doc,getDoc,setDoc,addDoc,collection,updateDoc,deleteDoc,deleteField
    // }

    const firebaseConfig = {
      apiKey: "AIzaSyDeHT6V-Ujk_LAJh8aEjnMzCD09q7AS_b4",
      authDomain: "presidio-round4.firebaseapp.com",
      databaseURL: "https://presidio-round4-default-rtdb.firebaseio.com",
      projectId: "presidio-round4",
      storageBucket: "presidio-round4.appspot.com",
      messagingSenderId: "222684270246",
      appId: "1:222684270246:web:504b5ca6fb77e6a30dee67"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
   
    function app_data(){
        alert("hello");
        var email=document.getElementById("register-email").value;
        var pwd=document.getElementById("register-password").value;
        var uname=document.getElementById("register-name").value;

        createUserWithEmailAndPassword(auth, email, pwd)
        .then((userCredential) => {
            const user = userCredential.user;
            alert("User created");
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            alert(errorMessage+errorcode);
        });
    }

    regitserbtn.addEventListener("click",app_data());
  </script>

</html>

